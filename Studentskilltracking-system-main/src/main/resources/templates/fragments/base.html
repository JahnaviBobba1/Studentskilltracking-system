<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title} ?: 'SSTS'">SSTS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link th:href="@{/css/styles.css}" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar -->
    <header class="navbar-section">
        <div class="navbar-logo">SSTS</div>
        <nav class="navbar-components">
            <a th:href="@{/}" class="nav-link" th:classappend="${#httpServletRequest.requestURI == '/'} ? 'nav-link-active'">Home</a>
            <a th:href="@{/events}" class="nav-link" th:classappend="${#httpServletRequest.requestURI == '/events'} ? 'nav-link-active'">Events</a>
            <a th:href="@{/courses}" class="nav-link" th:classappend="${#httpServletRequest.requestURI == '/courses'} ? 'nav-link-active'">Courses</a>

            <div th:if="${#authentication.principal}">
                <a th:href="@{/profile}" class="nav-link" th:classappend="${#httpServletRequest.requestURI == '/profile'} ? 'nav-link-active'">My Profile</a>
                <a th:href="@{/logout}" class="nav-link">Logout</a>
            </div>
            <div th:unless="${#authentication.principal}">
                <a th:href="@{/auth/login}" class="nav-link" th:classappend="${#httpServletRequest.requestURI == '/auth/login'} ? 'nav-link-active'">Login</a>
                <a th:href="@{/auth/register}" class="nav-link" th:classappend="${#httpServletRequest.requestURI == '/auth/register'} ? 'nav-link-active'">Sign Up</a>
            </div>
        </nav>
    </header>

    <main>
        <!-- Flash messages -->
        <div th:if="${#lists.size(#flashMessages)} > 0" class="flash-messages">
            <div th:each="message : ${#flashMessages}" th:class="'flash-message ' + ${message.key}" th:text="${message.value}"></div>
        </div>
        
        <div th:replace="${content} ?: ~{::content}"></div>
    </main>

    <footer>
        <p>&copy; 2024 SSTS. All Rights Reserved.</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>